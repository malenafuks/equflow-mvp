<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EquiFlow v1.6.4 — MVP</title>
  <link rel="stylesheet" href="styles.css?v=1.6.4" />
  <meta name="color-scheme" content="light only" />
</head>
<body>

  <!-- ======= TOP NAV / TABS (sticky) ======= -->
  <header id="tabsNav" class="tabs">
    <nav class="wrap">
      <button class="tab tab-active" data-tab="admin">Administracja</button>
      <button class="tab" data-tab="instructor">Instruktor</button>
      <button class="tab" data-tab="volunteer">Wolontariusz</button>
      <button class="tab" data-tab="reports">Raporty</button>
      <div class="spacer"></div>
      <div class="profile mini">
        <label for="volunteerName">Ja:</label>
        <input id="volunteerName" type="text" placeholder="imię" />
        <button id="saveUser" class="btn small">Zapisz</button>
      </div>
    </nav>
  </header>

  <main class="wrap">

    <!-- ======= INSTRUKTOR ======= -->
    <section id="tab-instructor" class="hidden">
      <h2 id="instructorTop">Instruktor</h2>

      <p class="mini-nav">
        <a href="#i-form">↘ Formularz</a> •
        <a href="#i-list">↘ Lista zadań</a>
      </p>

      <div class="toolbar">
        <div class="left">
          <button id="i-view-list" class="btn small view-active">Lista</button>
        </div>
        <div class="right">
          <button id="i-createDefaults" class="btn ghost small">Dodaj domyślne (dziś)</button>
        </div>
      </div>

      <div class="i-chips">
        <button id="i-chipAll" class="chip chip-active">Wszystkie <span id="i-countAll" class="badge small">0</span></button>
        <button id="i-chipOpen" class="chip">Wolne <span id="i-countOpen" class="badge small">0</span></button>
        <button id="i-chipTaken" class="chip">W trakcie <span id="i-countTaken" class="badge small">0</span></button>
        <button id="i-chipReview" class="chip">Do weryf. <span id="i-countReview" class="badge small">0</span></button>
        <button id="i-chipApproved" class="chip">Zatwierdzone <span id="i-countApproved" class="badge small">0</span></button>
        <button id="i-chipRejected" class="chip">Odrzucone <span id="i-countRejected" class="badge small">0</span></button>
        <button id="i-chipFuture" class="chip">Tylko przyszłe</button>
      </div>

      <div id="i-form" class="panel">
        <h3>Dodaj zadanie</h3>

        <div class="grid g2">
          <label for="i-taskType">Typ zadania
            <select id="i-taskType">
              <option value="jazda_grupowa">Jazda grupowa</option>
              <option value="jazda_indywidualna">Jazda indywidualna</option>
              <option value="prep">Przygotowanie do jazdy</option>
              <option value="zabieg">Zabieg</option>
              <option value="wyprowadzenie">Wyprowadzenie Stada</option>
              <option value="sprowadzenie">Sprowadzenie Stada</option>
              <option value="rozsiodłanie">Rozsiodłanie</option>
              <option value="dziennikarz">Dziennikarz / Kronikarz</option>
            </select>
          </label>

          <label for="i-place">Miejsce/arena
            <input id="i-place" type="text" placeholder="np. ujeżdżalnia A" />
          </label>

          <label for="i-points">Punkty (0–4)
            <input id="i-points" type="number" min="0" max="4" value="2" />
          </label>

          <label for="i-title">Tytuł (opcjonalnie)
            <input id="i-title" type="text" placeholder="opcjonalnie – generujemy automatycznie" />
          </label>
        </div>

        <div id="i-dynamicFields" class="grid g2"></div>

        <label for="i-notes">Uwagi
          <textarea id="i-notes" rows="2" placeholder="np. siodło ujeżdżeniowe, ochraniacze, itp."></textarea>
        </label>

        <div class="actions">
          <button id="i-add" class="btn">Dodaj</button>
        </div>
      </div>

      <h3 id="i-list-h">Zadania</h3>
      <div id="i-list" class="list"></div>
    </section>

    <!-- ======= WOLONTARIUSZ ======= -->
    <section id="tab-volunteer" class="hidden">
      <h2 id="volunteerTop">Wolontariusz</h2>

      <p class="mini-nav">
        <a href="#v-filters">↘ Filtry</a> •
        <a href="#v-list">↘ Lista zadań</a>
      </p>

      <div id="v-filters" class="toolbar">
        <div class="chips">
          <button id="v-chipAll" class="chip chip-active">Wszystkie <span id="v-countAll" class="badge small">0</span></button>
          <button id="v-chipOpen" class="chip">Wolne <span id="v-countOpen" class="badge small">0</span></button>
          <button id="v-chipTaken" class="chip">W trakcie <span id="v-countTaken" class="badge small">0</span></button>
          <button id="v-chipReview" class="chip">Do weryf. <span id="v-countReview" class="badge small">0</span></button>
          <button id="v-chipApproved" class="chip">Zatwierdzone <span id="v-countApproved" class="badge small">0</span></button>
          <button id="v-chipMine" class="chip">Tylko moje</button>
        </div>

        <div class="right">
          <label for="v-type">Typ
            <select id="v-type">
              <option value="">— wszystkie —</option>
              <option value="siodłanie">Przygotowanie do Jazdy</option>
              <option value="porządki">Prace porządkowe</option>
              <option value="wyprowadzenie">Wyprowadzenie</option>
              <option value="sprowadzenie">Sprowadzenie</option>
              <option value="zabieg">Zabieg</option>
            </select>
          </label>
          <input id="v-search" type="search" placeholder="Szukaj..." />
          <button id="pointsHistory" class="btn ghost small">Historia punktów</button>
          <button id="exportCsv" class="btn ghost small">Eksport CSV</button>
          <button id="resetData" class="btn ghost small">Reset</button>
          <button id="hardReset" class="btn ghost small">Hard reset</button>
        </div>
      </div>

      <div class="score">
        Moje punkty: <strong id="myPoints">0</strong> &nbsp; <span id="myHorseshoes"></span>
      </div>

      <div id="v-list" class="list"></div>
    </section>

    <!-- ======= RAPORTY ======= -->
    <section id="tab-reports" class="hidden">
      <h2 id="reportsTop">Raporty</h2>

      <p class="mini-nav">
        <a href="#r-filters">↘ Zakres</a> •
        <a href="#r-list">↘ Lista</a>
      </p>

      <div id="r-filters" class="toolbar">
        <div class="left">
          <label for="r-from">Od
            <input id="r-from" type="date" />
          </label>
          <label for="r-to">Do
            <input id="r-to" type="date" />
          </label>
          <label for="r-status">Status
            <select id="r-status">
              <option value="">— wszystkie —</option>
              <option value="open">Wolne</option>
              <option value="taken">W trakcie</option>
              <option value="to_review">Do weryf.</option>
              <option value="approved">Zatwierdzone</option>
              <option value="rejected">Odrzucone</option>
            </select>
          </label>
          <label for="r-group">Grupowanie
            <select id="r-group">
              <option value="none">Brak</option>
              <option value="vol">Wolontariusz</option>
              <option value="type">Typ</option>
              <option value="horse">Koń</option>
            </select>
          </label>
        </div>
        <div class="right">
          <button id="r-view-list" class="btn small view-active">Lista</button>
        </div>
      </div>

      <div id="r-list" class="list"></div>
    </section>

    <!-- ======= ADMIN ======= -->
    <section id="tab-admin" class="">
      <h2 id="adminTop">Administracja</h2>

      <p class="mini-nav">
        <a href="#a-form">↘ Zapisy</a> •
        <a href="#a-schedule">↘ Grafik dnia</a>
      </p>

      <div class="toolbar">
        <div class="left">
          <label for="a-day">Dzień grafiku
            <input id="a-day" type="date" />
          </label>
          <span id="adminTodayLabel" class="muted">Planowanie — —</span>
        </div>
        <div class="right">
          <button id="a-generate" class="btn small">Generuj grafik</button>
          <button id="a-refresh" class="btn ghost small">Odśwież</button>
          <button id="a-print" class="btn ghost small">Drukuj</button>
        </div>
      </div>

      <!-- FORM: zapisy na jazdę -->
      <div id="a-form" class="panel">
        <h3>Dodaj zapis</h3>

        <div class="grid g2">
          <label for="a-first">Imię
            <input id="a-first" type="text" required />
          </label>

          <label for="a-last">Nazwisko
            <input id="a-last" type="text" required />
          </label>

          <label for="a-phone">Telefon
            <input id="a-phone" type="tel" />
          </label>

          <label for="a-email">E-mail
            <input id="a-email" type="email" />
          </label>

          <label for="a-rideType">Rodzaj
            <select id="a-rideType">
              <option value="jazda_grupowa" selected>Jazda grupowa</option>
              <option value="jazda_indywidualna">Jazda indywidualna</option>
              <option value="zabieg">Zabieg</option>
            </select>
          </label>

          <label for="a-level">Poziom / typ
            <select id="a-level"></select>
          </label>

          <label for="a-horse">Koń
            <select id="a-horse"></select>
          </label>

          <label for="a-date">Data
            <input id="a-date" type="date" />
          </label>

          <label for="a-when">Godzina
            <input id="a-when" type="time" />
          </label>

          <label for="a-instructor">Instruktor
            <select id="a-instructor"></select>
          </label>
        </div>

        <div class="actions">
          <button id="a-addRider" class="btn">Dodaj zapis</button>
        </div>
      </div>

      <!-- GRAFIK DNIA -->
      <div id="a-schedule" class="panel">
        <h3 id="schedTitle">Grafik dnia</h3>
        <div class="sched-wrap">
          <div class="rotate-hint">Aby wygodniej przeglądać grafik — obróć telefon w poziom.</div>
          <div id="scheduleGrid" class="sched-grid"></div>
        </div>
      </div>
    </section>

  </main>

  <!-- ======= MODALE ======= -->
  <section id="confirm" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="confirmTitle">
    <div class="modal-box">
      <header class="modal-head">
        <h3 id="confirmTitle">Potwierdź</h3>
      </header>
      <div id="confirmBody" class="modal-body">Na pewno?</div>
      <footer class="modal-foot">
        <button id="confirmCancel" class="btn ghost">Anuluj</button>
        <button id="confirmOk" class="btn">OK</button>
      </footer>
    </div>
  </section>

  <!-- TOAST -->
  <div id="toast" class="toast"></div>

  <!-- ======= FOOTER ======= -->
  <footer class="wrap muted center">
    EquiFlow — MVP • v1.6.4
  </footer>

<script src="app-v1_6_6.js?v=1.6.6"></script>
<script src="validators.js?v=1.6.6"></script>



</body>
</html>
