<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EquiFlow v1.6.6 — MVP</title>
  <link rel="stylesheet" href="styles.css?v=1.6.6" />
  <!-- ✨ Nowy motyw – nadpisuje styles.css -->
  <link rel="stylesheet" href="theme-equiflow-sand.css?v=1.6.7" />
  <meta name="color-scheme" content="light only" />
</head>
<body>



  <!-- ======= TOP NAV / TABS (sticky) ======= -->
  <header id="tabsNav" class="tabs">
    <nav class="wrap">
      <button class="tab tab-active" data-tab="admin">Administracja</button>
      <button class="tab" data-tab="instructor">Instruktor</button>
      <button class="tab" data-tab="volunteer">Wolontariusz</button>
      <button class="tab" data-tab="reports">Raporty</button>
      <div class="spacer"></div>
      <div class="profile mini">
        <label for="volunteerName">Ja:</label>
        <input id="volunteerName" type="text" placeholder="imię" />
        <button id="saveUser" class="btn small">Zapisz</button>
      </div>
    </nav>
  </header>

  <main class="wrap">
    <!-- ======= INSTRUKTOR ======= -->
    <section id="tab-instructor" class="hidden">
      <h2 id="instructorTop">Instruktor</h2>

      <p class="mini-nav">
        <a href="#i-form">↘ Formularz</a> •
        <a href="#i-list">↘ Lista zadań</a>
      </p>


      <div class="i-chips">
        <button id="i-chipAll" class="chip chip-active">Wszystkie <span id="i-countAll" class="badge small">0</span></button>
        <button id="i-chipOpen" class="chip">Wolne <span id="i-countOpen" class="badge small">0</span></button>
        <button id="i-chipTaken" class="chip">W trakcie <span id="i-countTaken" class="badge small">0</span></button>
        <button id="i-chipReview" class="chip">Do weryf. <span id="i-countReview" class="badge small">0</span></button>
        <button id="i-chipApproved" class="chip">Zatwierdzone <span id="i-countApproved" class="badge small">0</span></button>
        <button id="i-chipRejected" class="chip">Odrzucone <span id="i-countRejected" class="badge small">0</span></button>
        <button id="i-chipFuture" class="chip">Tylko przyszłe</button>
      </div>

      <div id="i-form" class="panel">
        <h3>Dodaj zadanie</h3>

        <div class="grid g2">
          <label for="i-taskType">Typ zadania
            <select id="i-taskType">
              <option value="jazda_grupowa">Jazda grupowa</option>
              <option value="jazda_indywidualna">Jazda indywidualna</option>
              <option value="prep">Przygotowanie do jazdy</option>
              <option value="zabieg">Zabieg</option>
              <option value="wyprowadzenie">Wyprowadzenie Stada</option>
              <option value="sprowadzenie">Sprowadzenie Stada</option>
              <option value="rozsiodłanie">Rozsiodłanie</option>
              <option value="dziennikarz">Dziennikarz / Kronikarz</option>
            </select>
          </label>

          <label for="i-place">Miejsce/arena
            <input id="i-place" type="text" placeholder="np. ujeżdżalnia A" />
          </label>

          <label for="i-points">Punkty (0–4)
            <input id="i-points" type="number" min="0" max="4" value="2" />
          </label>

          <label for="i-title">Tytuł (opcjonalnie)
            <input id="i-title" type="text" placeholder="opcjonalnie – generujemy automatycznie" />
          </label>
        </div>

        <div id="i-dynamicFields" class="grid g2"></div>

        <label for="i-details">Szczegóły
  <input id="i-details" type="text" placeholder="np. siodło ujeżdżeniowe, ochraniacze, itp." />
</label>


        <div class="actions">
          <button id="i-add" class="btn">Dodaj</button>
        </div>
      </div>

      <h3 id="i-list-h">Zadania</h3>
      <div id="i-list" class="list"></div>
      <h3 id="i-archive-h" class="subtle">Dni poprzednie</h3>
<div id="i-archive" class="report-compact"></div>
      <h3 id="i-archive-h" class="subtle">Dni poprzednie</h3>
<div id="i-archive" class="report-compact"></div>

    </section>

    <!-- ======= WOLONTARIUSZ ======= -->
    <section id="tab-volunteer" class="hidden">
      <h2 id="volunteerTop">Wolontariusz</h2>
<div id="v-scoreboard" class="panel scoreboard">
  <div class="score-main">
    <span class="icon-points" aria-hidden="true"></span>
    <div>
      <div class="score-title">Zatwierdzone</div>
      <div class="score-value"><span id="v-approvedPoints">0</span> pkt</div>
    </div>
  </div>
  <div class="score-side">
    <div class="score-line">
      <strong>W kolekcji:</strong> <span id="v-takenCount">0</span> podk.
    </div>
  </div>
</div>

      <p class="mini-nav">
        <a href="#v-filters">↘ Filtry</a> •
        <a href="#v-list">↘ Lista zadań</a>
      </p>

      <div id="v-filters" class="toolbar">
        <div class="chips">
          <button id="v-chipAll" class="chip chip-active">Wszystkie <span id="v-countAll" class="badge small">0</span></button>
          <button id="v-chipOpen" class="chip">Wolne <span id="v-countOpen" class="badge small">0</span></button>
          <button id="v-chipTaken" class="chip">W trakcie <span id="v-countTaken" class="badge small">0</span></button>
          <button id="v-chipReview" class="chip">Do weryf. <span id="v-countReview" class="badge small">0</span></button>
          <button id="v-chipApproved" class="chip">Zatwierdzone <span id="v-countApproved" class="badge small">0</span></button>
          <button id="v-chipMine" class="chip">Tylko moje</button>
        </div>

        <div class="right">
          <label for="v-type">Typ
            <select id="v-type">
              <option value="">— wszystkie —</option>
              <option value="siodłanie">Przygotowanie do Jazdy</option>
              <option value="porządki">Prace porządkowe</option>
              <option value="wyprowadzenie">Wyprowadzenie</option>
              <option value="sprowadzenie">Sprowadzenie</option>
              <option value="zabieg">Zabieg</option>
            </select>
          </label>
          <input id="v-search" type="search" placeholder="Szukaj..." />
          <button id="pointsHistory" class="btn ghost small">Historia punktów</button>
          <button id="exportCsv" class="btn ghost small">Eksport CSV</button>
          <button id="resetData" class="btn ghost small">Reset danych (demo)</button>
        </div>
      </div>

      <div id="v-list" class="list"></div>
      <h3 id="v-archive-h" class="subtle">Dni poprzednie</h3>
<div id="v-archive" class="report-compact"></div>

      <h3 id="v-archive-h" class="subtle">Dni poprzednie</h3>
<div id="v-archive" class="report-compact"></div>

    </section>

    <!-- ======= RAPORTY ======= -->
    <section id="tab-reports" class="hidden">
      <h2>Raporty</h2>

      <div class="grid g2">
        <label>Od <input id="r-from" type="date" /></label>
        <label>Do <input id="r-to" type="date" /></label>
        <label>Status
          <select id="r-status">
            <option value="">— wszystkie —</option>
            <option value="open">Wolne</option>
            <option value="taken">W trakcie</option>
            <option value="to_review">Do weryf.</option>
            <option value="approved">Zatwierdzone</option>
            <option value="rejected">Odrzucone</option>
          </select>
        </label>
      </div>

      <div id="r-list" class="list"></div>
    </section>

    <!-- ======= ADMIN ======= -->
    <section id="tab-admin">
      <h2>Administracja</h2>

     <div id="a-forms" class="panel">
  <h3>Dodaj zadanie</h3>

  <div class="grid g2">
    <label for="a-taskType">Typ zadania
      <select id="a-taskType">
        <option value="jazda_grupowa">Jazda grupowa</option>
        <option value="jazda_indywidualna">Jazda indywidualna</option>
        <option value="prep">Przygotowanie do jazdy</option>
        <option value="zabieg">Zabieg</option>
        <option value="wyprowadzenie">Wyprowadzenie Stada</option>
        <option value="sprowadzenie">Sprowadzenie Stada</option>
        <option value="rozsiodłanie">Rozsiodłanie</option>
        <option value="dziennikarz">Dziennikarz / Kronikarz</option>
      </select>
    </label>

    <label for="a-place">Miejsce/arena
      <input id="a-place" type="text" placeholder="np. ujeżdżalnia A" />
    </label>

    <label for="a-points">Punkty (0–4)
      <input id="a-points" type="number" min="0" max="4" value="2" />
    </label>

    <label for="a-title">Tytuł (opcjonalnie)
      <input id="a-title" type="text" placeholder="opcjonalnie – generujemy automatycznie" />
    </label>
  </div>

  <div id="a-dynamicFields" class="grid g2"></div>

  <label for="a-details">Szczegóły
    <input id="a-details" type="text" placeholder="np. siodło ujeżdżeniowe, ochraniacze, itp." />
  </label>

  <div class="actions">
    <button id="a-add" class="btn">Dodaj</button>
  </div>
</div>


<!-- GRAFIK DNIA -->
<div id="a-schedule" class="panel">
  <h3 id="schedTitle">Grafik dnia</h3>
  <div class="sched-wrap">
    <div class="rotate-hint">Aby wygodniej przeglądać grafik — obróć telefon w poziom.</div>
    <div id="scheduleGrid" class="sched-grid"></div>
  </div>
</div>

<!-- GRAFIK ZABIEGÓW DNIA -->
<div id="a-schedule-proc" class="panel">
  <h3 id="schedProcTitle">Grafik zabiegów dnia</h3>
  <div class="sched-wrap">
    <div class="rotate-hint">Aby wygodniej przeglądać grafik — obróć telefon w poziom.</div>
    <div id="scheduleGridProc" class="sched-grid"></div>
  </div>
</div>
</section>


  </main>


  <!-- ======= MODALE ======= -->
  <section id="confirm" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="confirmTitle">
    <div class="modal-box">
      <header class="modal-head">
        <h3 id="confirmTitle">Potwierdź</h3>
      </header>
      <div id="confirmBody" class="modal-body">Na pewno?</div>
      <footer class="modal-foot">
        <button id="confirmCancel" class="btn ghost">Anuluj</button>
        <button id="confirmOk" class="btn">OK</button>
      </footer>
    </div>
  </section>

  <section id="details" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="detailsTitle">
  <div class="modal-box">
    <header class="modal-head">
      <h3 id="detailsTitle">Szczegóły zadania</h3>
    </header>
    <div id="detailsBody" class="modal-body"></div>
    <footer class="modal-foot">
      <button id="detailsClose" class="btn">Zamknij</button>
    </footer>
  </div>
</section>


  <!-- TOAST -->
  <div id="toast" class="toast"></div>

  <!-- ======= FOOTER ======= -->
  <footer class="wrap muted center">
    EquiFlow — MVP • v1.6.6
  </footer>

  <!-- Walidatory i główna logika -->
  <script src="validators.js?v=1.6.6"></script>
  <script src="app-v1_6_6.js?v=1.6.6"></script>

  <!-- Skórka kart zadań – ładowana po app.js -->
  <script src="tasks-ui.js?v=1.6.7"></script>

  <!-- Animacje (opcjonalne) -->
  <script src="ui-animations.js"></script>
</body>
</html>
